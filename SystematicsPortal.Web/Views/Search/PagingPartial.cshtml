@model SystematicsPortal.Web.Models.SearchViewModel

    <div class="text-center mt-4">
        <div class="paging">
            <!-- clearfix -->
            @{
                int totalPages = Model.GetTotalPages();
                if (totalPages > 1 && totalPages <= 9)
                {
                    <ul>
                        @if (Model.CurrentPage > 0)
                        {
                            <li><a href="#" onclick="pageResults(@Model.CurrentPage - 1)">&lt;&nbsp; Previous Page</a></li>
                        }
                        @for (int pageNr = 1; pageNr <= totalPages; pageNr++)
                        {
                            if ((pageNr - 1) != Model.CurrentPage)
                            {
                                @:<li><a href="#" onclick="pageResults(@pageNr -1)">@pageNr.ToString()</a></li>
                            }
                            else
                            {
                                @:<li class="current-page">@pageNr.ToString()</li>
                            }
                        }
                        @if (Model.CurrentPage < (totalPages - 1))
                        {
                            <li><a href="#" onclick="pageResults(@Model.CurrentPage + 1)">Next Page&nbsp;&gt;</a></li>
                        }
                    </ul>
                }
                else if (totalPages > 9)
                {
                    <ul>
                        @if (Model.CurrentPage > 0)
                        {
                            <li><a href="#" onclick="pageResults(@Model.CurrentPage - 1)">&lt;Previous Page</a></li>
                        }

                        @{
                            int start;
                            int end;

                            if (Model.CurrentPage < 5)
                            {
                                start = 1;
                            }
                            else if (Model.CurrentPage < (totalPages - 1))
                            {
                                start = Model.CurrentPage - 2;
                            }
                            else
                            {
                                start = totalPages - 4;
                            }

                            if (start + 4 >= totalPages)
                            {
                                end = totalPages;
                            }
                            else if (Model.CurrentPage == 0)
                            {
                                end = 5;
                            }
                            else
                            {
                                end = @Model.CurrentPage + 4;
                            }

                            if (start != 1 && start >= 3)
                            {
                                @:<li><a href="#" onclick="pageResults(1)">1 ...</a></li>
                            }
                            else if (start != 1)
                            {
                                @:<li><a href="#" onclick="pageResults(1)">1</a></li>
                            }

                            for (int pageNr = start; pageNr <= end; pageNr++)
                            {
                                if ((pageNr - 1) != Model.CurrentPage)
                                {
                                    @:<li><a href="#" onclick="pageResults(@pageNr - 1)">@pageNr.ToString()</a></li>
                                }
                                else
                                {
                                    @:<li class="current-page">@pageNr.ToString()</li>
                                }
                            }

                            if (end != totalPages && end <= (totalPages - 2))
                            {
                                @:<li><a href="#" onclick="pageResults(@totalPages - 1)">... @totalPages</a></li>
                            }
                            else if (end != totalPages)
                            {
                                @:<li><a href="#" onclick="pageResults(@totalPages - 1)">@totalPages</a></li>
                            }
                        }

                        @if (Model.CurrentPage != (totalPages - 1))
                        {
                            <li><a href="#" onclick="pageResults(@Model.CurrentPage + 1)">Next Page&nbsp;&gt;</a></li>
                        }
                    </ul>
                }
            }
        </div>
    </div>
